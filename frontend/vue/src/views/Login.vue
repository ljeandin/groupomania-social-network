<!--This is the login page-->
<template>
<body class="connexion">
    <div class="connexion__wrapper">
        <!-- logo with the planet icon for bigger devices-->
        <svg class="logo logo--icon" id="logoIcon" width="935" height="145" viewBox="0 0 935 145" fill="#ecf0f3" xmlns="http://www.w3.org/2000/svg">
            <path d="M70.5 140C89.122 140 106.58 132.851 119.715 119.715C132.85 106.58 140 89.122 140 70.5C140 51.878 132.85 34.4199 119.715 21.2847C106.58 8.14952 89.122 1 70.5 1C51.878 1 34.4199 8.14952 21.2847 21.2847C8.14952 34.4199 1 51.878 1 70.5C1 89.122 8.14952 106.58 21.2847 119.715C34.4199 132.851 51.878 140 70.5 140ZM74.4904 128.195C73.1603 128.361 71.8301 128.361 70.5 128.361C68.6711 128.361 66.8421 128.195 65.0132 128.029C59.0275 118.718 54.5383 108.742 51.878 98.2668H81.3074C82.305 100.761 84.134 103.089 86.2955 104.585C83.4689 112.898 79.4785 120.713 74.4904 128.195V128.195ZM90.2859 124.87C93.445 119.05 95.939 113.231 97.9342 107.079C102.756 106.081 106.58 102.756 108.409 98.2668H121.212C114.561 110.404 103.421 119.882 90.2859 124.87ZM128.195 70.5C128.195 75.9869 127.364 81.3074 126.033 86.4617H108.077C107.079 84.3003 105.416 82.3051 103.421 80.8086C103.754 77.1508 103.92 73.4928 103.92 69.8349C103.92 64.6806 103.587 59.5263 102.922 54.5383H125.867C127.53 59.5263 128.195 65.0132 128.195 70.5V70.5ZM121.212 42.7333H100.927C98.7656 33.5885 95.6065 24.9426 91.2835 16.6292C103.92 21.451 114.561 30.9282 121.212 42.7333ZM92.2811 69.8349C92.2811 72.6615 92.1148 75.4881 91.9486 78.3146C87.2931 79.3122 83.4689 82.305 81.6399 86.4617H49.5502C48.8852 81.4737 48.3864 76.3194 48.3864 71.3314C48.3864 68.1723 48.5526 65.0132 48.8852 61.8541C53.2081 61.0227 56.6998 58.1962 58.8612 54.5383H91.2835C91.9486 59.5263 92.2811 64.6806 92.2811 69.8349V69.8349ZM66.177 12.9713C67.6734 12.805 69.1699 12.805 70.5 12.805C72.1627 12.805 73.8254 12.805 75.488 12.9713C81.4737 22.2823 85.9629 32.2584 88.6232 42.7333H59.6926C58.695 39.9067 56.866 37.4127 54.5383 35.5837C57.5311 27.6029 61.3553 20.1208 66.177 12.9713ZM50.3816 16.2966C47.555 21.6172 45.061 27.2703 43.0658 32.9234C37.9115 33.9211 33.7548 37.7452 32.0921 42.567H19.9546C26.439 30.762 37.2464 21.2847 50.3816 16.2966ZM12.805 70.5C12.805 65.0132 13.6364 59.5263 15.1328 54.5383H33.256C34.2536 56.3672 35.75 58.0299 37.4127 59.3601C37.0802 63.3505 36.7476 67.3409 36.7476 71.3314C36.7476 76.4857 37.0802 81.4737 37.7452 86.4617H15.1328C13.4701 81.3074 12.805 75.9869 12.805 70.5ZM39.7404 98.1005C41.9019 107.079 45.061 115.891 49.384 124.205C36.7476 119.216 26.2727 109.906 19.7883 98.1005H39.7404Z" stroke="#D1515A" stroke-width="2"/>
            <path d="M184.244 103.906C193.073 112.714 204.034 117.117 217.128 117.117C230.341 117.117 241.633 113.043 251.003 104.895V61.8469H220.281V79.1021L232.534 79.0122V94.8294C228.99 97.4057 223.885 98.6938 217.218 98.6938C208.929 98.6938 202.232 96.1775 197.127 91.1447C192.022 86.112 189.469 79.3118 189.469 70.7441C189.469 62.7756 191.992 56.245 197.037 51.1523C202.142 45.9997 208.839 43.3935 217.128 43.3336C225.236 43.3336 232.444 45.7901 238.75 50.703L251.003 37.3123C241.573 29.1041 230.281 25 217.128 25C204.034 25 193.073 29.4037 184.244 38.211C175.415 47.0782 171 57.9825 171 70.9238C171 84.1049 175.415 95.099 184.244 103.906Z" stroke="#D1515A" stroke-width="2"/>
            <path d="M284.067 62.476V55.6459L266.859 57.5332V117.117H284.067V79.3717C286.89 73.62 290.404 70.5943 294.608 70.2948C298.332 70.4146 301.185 71.3732 303.167 73.1706L305.87 56.1851C304.068 55.8855 302.176 55.7357 300.194 55.7357C293.887 55.7357 288.512 57.9825 284.067 62.476Z" stroke="#D1515A" stroke-width="2"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M345.06 117.746C336.111 117.746 328.633 114.751 322.627 108.759C316.681 102.768 313.708 95.3387 313.708 86.4714C313.708 77.5443 316.681 70.085 322.627 64.0937C328.633 58.1023 336.111 55.1066 345.06 55.1066C354.009 55.1066 361.487 58.1023 367.493 64.0937C373.5 70.085 376.503 77.5443 376.503 86.4714C376.503 95.3986 373.5 102.828 367.493 108.759C361.487 114.751 354.009 117.746 345.06 117.746ZM356.412 98.1546C353.469 101.33 349.685 102.918 345.06 102.918C340.375 102.918 336.561 101.33 333.618 98.1546C330.735 95.0391 329.294 91.1447 329.294 86.4714C329.294 81.7982 330.735 77.9038 333.618 74.7883C336.561 71.6128 340.345 70.0251 344.97 70.0251C349.655 70.0251 353.469 71.6128 356.412 74.7883C359.355 77.9038 360.827 81.7982 360.827 86.4714C360.827 91.1447 359.355 95.0391 356.412 98.1546Z" stroke="#D1515A" stroke-width="2"/>
            <path d="M425.333 55.6459V95.3686C422.811 99.9221 419.747 102.319 416.144 102.558C411.999 102.438 408.906 101.24 406.864 98.9635C404.822 96.6867 403.801 93.5113 403.801 89.4372V55.6459H386.503V93.751C386.503 99.8622 388.575 105.284 392.72 110.018C396.804 114.751 402.75 117.117 410.558 117.117C416.264 117.117 421.189 115.26 425.333 111.545V117.117H442.541V55.6459H425.333Z" stroke="#D1515A" stroke-width="2"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M474.434 143L457.226 142.91V57.5332L474.434 55.6459V60.5888C479.059 57.2935 483.594 55.6459 488.038 55.6459C497.468 55.6459 504.946 58.7314 510.471 64.9025C516.057 71.0137 518.85 78.1734 518.85 86.3816C518.85 94.5898 516.057 101.749 510.471 107.861C504.946 114.032 497.468 117.117 488.038 117.117C481.852 116.698 477.317 115.02 474.434 112.085V143ZM474.434 90.7852V80.8096C475.275 74.6984 479.599 71.0137 487.408 69.7555C498.099 70.1749 503.654 76.1364 504.075 87.6398C502.813 97.0462 497.258 102.139 487.408 102.918C479.599 101.719 475.275 97.6753 474.434 90.7852Z" stroke="#D1515A" stroke-width="2"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M558.942 117.746C549.992 117.746 542.545 114.751 536.598 108.759C530.592 102.768 527.589 95.3387 527.589 86.4714C527.589 77.5443 530.592 70.085 536.598 64.0937C542.545 58.1023 549.992 55.1066 558.942 55.1066C567.891 55.1066 575.369 58.1023 581.375 64.0937C587.381 70.085 590.384 77.5443 590.384 86.4714C590.384 95.3986 587.381 102.828 581.375 108.759C575.369 114.751 567.891 117.746 558.942 117.746ZM570.293 98.1546C567.41 101.33 563.626 102.918 558.942 102.918C554.257 102.918 550.443 101.33 547.5 98.1546C544.617 95.0391 543.175 91.1447 543.175 86.4714C543.175 81.7982 544.617 77.9038 547.5 74.7883C550.443 71.6128 554.227 70.0251 558.852 70.0251C563.596 70.0251 567.41 71.6128 570.293 74.7883C573.236 77.9038 574.708 81.7982 574.708 86.4714C574.708 91.1447 573.236 95.0391 570.293 98.1546Z" stroke="#D1515A" stroke-width="2"/>
            <path d="M619.124 117.117V77.8439C621.827 73.0508 625.07 70.5344 628.854 70.2948C632.998 70.4146 636.001 71.5829 637.863 73.7997C639.725 76.0764 640.656 79.2519 640.656 83.326V117.117H657.864V80.8995C657.864 79.5814 657.984 78.2932 658.224 77.0351C660.687 72.7812 663.63 70.5344 667.053 70.2948C671.198 70.4146 674.201 71.5829 676.063 73.7997C677.925 76.0764 678.856 79.2519 678.856 83.326V117.117H696.063V79.1021C696.063 72.931 694.021 67.4788 689.937 62.7456C685.793 58.0724 679.817 55.7357 672.009 55.7357C662.999 55.7357 656.242 58.0724 651.738 62.7456C647.593 58.0724 641.647 55.7357 633.899 55.7357C627.893 55.7357 622.968 57.5332 619.124 61.128V55.6459L601.826 57.5332V117.117H619.124Z" stroke="#D1515A" stroke-width="2"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M719.217 73.5301L712.46 63.1051C720.269 58.1922 729.308 55.7357 739.579 55.7357C746.966 55.7357 752.792 57.7728 757.057 61.8469C761.381 65.981 763.543 72.1221 763.543 80.2704V117.117H746.336V112.264C741.29 115.5 736.756 117.117 732.731 117.117C724.563 117.117 718.407 115.38 714.262 111.905C710.178 108.43 708.136 103.637 708.136 97.5255C708.136 91.7738 710.088 86.6512 713.992 82.1576C717.836 77.6641 724.082 75.4174 732.731 75.4174C736.756 75.4174 741.29 76.6456 746.336 79.1021V77.2148C746.215 72.7212 742.912 70.2648 736.425 69.8454C729.038 69.8454 723.302 71.0736 719.217 73.5301ZM746.336 91.7738V98.6938C744.714 101.929 740.81 103.547 734.623 103.547C727.236 103.127 723.332 100.491 722.911 95.6382C723.332 90.7253 727.236 87.8494 734.623 87.0107C740.81 87.0107 744.714 88.5984 746.336 91.7738Z" stroke="#D1515A" stroke-width="2"/>
            <path d="M796.247 117.117V78.1135C798.77 73.1407 801.803 70.5344 805.347 70.2948C809.491 70.4146 812.614 71.5829 814.716 73.7997C816.758 76.0764 817.78 79.2519 817.78 83.326V117.117H834.987V79.1021C834.987 72.931 832.945 67.4788 828.861 62.7456C824.777 58.0724 818.831 55.7357 811.023 55.7357C805.317 55.7357 800.392 57.5631 796.247 61.2178V55.6459L778.949 57.5332V117.117H796.247Z" stroke="#D1515A" stroke-width="2"/>
            <path d="M849.492 117.117H866.7V55.6459H849.492V117.117Z" stroke="#D1515A" stroke-width="2"/>
            <path d="M851.294 47.1082C849.673 45.4905 848.862 43.4534 848.862 40.997C848.862 38.5405 849.673 36.4735 851.294 34.7959C852.976 33.1183 855.198 32.2795 857.961 32.2795C860.904 32.2795 863.217 33.1183 864.898 34.7959C866.52 36.4735 867.331 38.5405 867.331 40.997C867.331 43.4534 866.52 45.4905 864.898 47.1082C863.217 48.7258 860.964 49.5347 858.141 49.5347C855.258 49.5347 852.976 48.7258 851.294 47.1082Z" stroke="#D1515A" stroke-width="2"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M889.674 73.5301L882.917 63.1051C890.725 58.1922 899.764 55.7357 910.035 55.7357C917.423 55.7357 923.279 57.7728 927.603 61.8469C931.868 65.981 934 72.1221 934 80.2704V117.117H916.792V112.264C911.807 115.5 907.302 117.117 903.278 117.117C895.05 117.117 888.893 115.38 884.809 111.905C880.665 108.43 878.593 103.637 878.593 97.5255C878.593 91.7738 880.545 86.6512 884.449 82.1576C888.293 77.6641 894.569 75.4174 903.278 75.4174C907.242 75.4174 911.747 76.6456 916.792 79.1021V77.2148C916.732 72.7212 913.459 70.2648 906.972 69.8454C899.584 69.8454 893.818 71.0736 889.674 73.5301ZM916.792 91.7738V98.6938C915.17 101.929 911.266 103.547 905.08 103.547C897.692 103.127 893.788 100.491 893.368 95.6382C893.788 90.7253 897.692 87.8494 905.08 87.0107C911.266 87.0107 915.17 88.5984 916.792 91.7738Z" stroke="#D1515A" stroke-width="2"/>
        </svg>

        <!-- logo without the icon for smaller devices-->
        <svg class="logo logo--typography" id="logoTypography" width="765" height="121" viewBox="0 0 765 121" fill="#ecf0f3" xmlns="http://www.w3.org/2000/svg">
            <path d="M14.2437 79.9063C23.0729 88.7136 34.0342 93.1173 47.1278 93.1173C60.3414 93.1173 71.6331 89.0432 81.0028 80.8949V37.8469H50.281V55.1021L62.5337 55.0122V70.8294C58.99 73.4057 53.8848 74.6938 47.2179 74.6938C38.9293 74.6938 32.2323 72.1775 27.1271 67.1447C22.0218 62.112 19.4691 55.3118 19.4691 46.7441C19.4691 38.7756 21.9917 32.245 27.037 27.1523C32.1422 21.9997 38.8392 19.3935 47.1278 19.3336C55.2362 19.3336 62.4436 21.7901 68.7502 26.703L81.0028 13.3123C71.5731 5.10409 60.2814 1 47.1278 1C34.0342 1 23.0729 5.40366 14.2437 14.211C5.41457 23.0782 1 33.9825 1 46.9238C1 60.1049 5.41457 71.099 14.2437 79.9063Z" stroke="#D1515A" stroke-width="2"/>
            <path d="M114.067 38.476V31.6459L96.8593 33.5332V93.1173H114.067V55.3717C116.89 49.62 120.404 46.5943 124.608 46.2948C128.332 46.4146 131.185 47.3732 133.167 49.1706L135.87 32.1851C134.068 31.8855 132.176 31.7357 130.194 31.7357C123.887 31.7357 118.512 33.9825 114.067 38.476Z" stroke="#D1515A" stroke-width="2"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M175.06 93.7464C166.111 93.7464 158.633 90.7507 152.627 84.7593C146.681 78.768 143.708 71.3387 143.708 62.4714C143.708 53.5443 146.681 46.085 152.627 40.0937C158.633 34.1023 166.111 31.1066 175.06 31.1066C184.009 31.1066 191.487 34.1023 197.493 40.0937C203.5 46.085 206.503 53.5443 206.503 62.4714C206.503 71.3986 203.5 78.8279 197.493 84.7593C191.487 90.7507 184.009 93.7464 175.06 93.7464ZM186.412 74.1546C183.469 77.33 179.685 78.9177 175.06 78.9177C170.375 78.9177 166.561 77.33 163.618 74.1546C160.735 71.0391 159.294 67.1447 159.294 62.4714C159.294 57.7982 160.735 53.9038 163.618 50.7883C166.561 47.6128 170.345 46.0251 174.97 46.0251C179.655 46.0251 183.469 47.6128 186.412 50.7883C189.355 53.9038 190.827 57.7982 190.827 62.4714C190.827 67.1447 189.355 71.0391 186.412 74.1546Z" stroke="#D1515A" stroke-width="2"/>
            <path d="M255.333 31.6459V71.3686C252.811 75.9221 249.747 78.3186 246.144 78.5583C241.999 78.4385 238.906 77.2402 236.864 74.9635C234.822 72.6867 233.801 69.5113 233.801 65.4372V31.6459H216.503V69.751C216.503 75.8622 218.575 81.2844 222.72 86.0175C226.804 90.7507 232.75 93.1173 240.558 93.1173C246.264 93.1173 251.189 91.26 255.333 87.5453V93.1173H272.541V31.6459H255.333Z" stroke="#D1515A" stroke-width="2"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M304.434 119L287.226 118.91V33.5332L304.434 31.6459V36.5888C309.059 33.2935 313.594 31.6459 318.038 31.6459C327.468 31.6459 334.946 34.7314 340.471 40.9025C346.057 47.0137 348.85 54.1734 348.85 62.3816C348.85 70.5898 346.057 77.7495 340.471 83.8607C334.946 90.0318 327.468 93.1173 318.038 93.1173C311.852 92.6979 307.317 91.0203 304.434 88.0846V119ZM304.434 66.7852V56.8096C305.275 50.6984 309.599 47.0137 317.408 45.7555C328.099 46.1749 333.654 52.1364 334.075 63.6398C332.813 73.0462 327.258 78.1389 317.408 78.9178C309.599 77.7195 305.275 73.6753 304.434 66.7852Z" stroke="#D1515A" stroke-width="2"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M388.942 93.7464C379.992 93.7464 372.545 90.7507 366.598 84.7593C360.592 78.768 357.589 71.3387 357.589 62.4714C357.589 53.5443 360.592 46.085 366.598 40.0937C372.545 34.1023 379.992 31.1066 388.942 31.1066C397.891 31.1066 405.369 34.1023 411.375 40.0937C417.381 46.085 420.384 53.5443 420.384 62.4714C420.384 71.3986 417.381 78.8279 411.375 84.7593C405.369 90.7507 397.891 93.7464 388.942 93.7464ZM400.293 74.1546C397.41 77.33 393.626 78.9177 388.942 78.9177C384.257 78.9177 380.443 77.33 377.5 74.1546C374.617 71.0391 373.175 67.1447 373.175 62.4714C373.175 57.7982 374.617 53.9038 377.5 50.7883C380.443 47.6128 384.227 46.0251 388.852 46.0251C393.596 46.0251 397.41 47.6128 400.293 50.7883C403.236 53.9038 404.708 57.7982 404.708 62.4714C404.708 67.1447 403.236 71.0391 400.293 74.1546Z" stroke="#D1515A" stroke-width="2"/>
            <path d="M449.124 93.1173V53.8439C451.827 49.0508 455.07 46.5344 458.854 46.2948C462.998 46.4146 466.001 47.5829 467.863 49.7997C469.725 52.0764 470.656 55.2519 470.656 59.326V93.1173H487.864V56.8995C487.864 55.5814 487.984 54.2932 488.224 53.0351C490.687 48.7812 493.63 46.5344 497.053 46.2948C501.198 46.4146 504.201 47.5829 506.063 49.7997C507.925 52.0764 508.856 55.2519 508.856 59.326V93.1173H526.063V55.1021C526.063 48.931 524.021 43.4788 519.937 38.7456C515.793 34.0724 509.817 31.7357 502.009 31.7357C492.999 31.7357 486.242 34.0724 481.738 38.7456C477.593 34.0724 471.647 31.7357 463.899 31.7357C457.893 31.7357 452.968 33.5332 449.124 37.128V31.6459L431.826 33.5332V93.1173H449.124Z" stroke="#D1515A" stroke-width="2"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M549.217 49.5301L542.46 39.1051C550.269 34.1922 559.308 31.7357 569.579 31.7357C576.966 31.7357 582.792 33.7728 587.057 37.8469C591.381 41.981 593.543 48.1221 593.543 56.2704V93.1173H576.336V88.2643C571.29 91.4996 566.756 93.1173 562.731 93.1173C554.563 93.1173 548.407 91.3798 544.262 87.9048C540.178 84.4298 538.136 79.6367 538.136 73.5255C538.136 67.7738 540.088 62.6512 543.992 58.1576C547.836 53.6641 554.082 51.4174 562.731 51.4174C566.756 51.4174 571.29 52.6456 576.336 55.1021V53.2148C576.215 48.7212 572.912 46.2648 566.425 45.8454C559.038 45.8454 553.302 47.0736 549.217 49.5301ZM576.336 67.7738V74.6938C574.714 77.9292 570.81 79.5468 564.623 79.5468C557.236 79.1274 553.332 76.4912 552.911 71.6382C553.332 66.7253 557.236 63.8494 564.623 63.0107C570.81 63.0107 574.714 64.5984 576.336 67.7738Z" stroke="#D1515A" stroke-width="2"/>
            <path d="M626.247 93.1173V54.1135C628.77 49.1407 631.803 46.5344 635.347 46.2948C639.491 46.4146 642.614 47.5829 644.716 49.7997C646.758 52.0764 647.78 55.2519 647.78 59.326V93.1173H664.987V55.1021C664.987 48.931 662.945 43.4788 658.861 38.7456C654.777 34.0724 648.831 31.7357 641.023 31.7357C635.317 31.7357 630.392 33.5631 626.247 37.2178V31.6459L608.949 33.5332V93.1173H626.247Z" stroke="#D1515A" stroke-width="2"/>
            <path d="M679.492 93.1173H696.7V31.6459H679.492V93.1173Z" stroke="#D1515A" stroke-width="2"/>
            <path d="M681.294 23.1082C679.673 21.4905 678.862 19.4534 678.862 16.997C678.862 14.5405 679.673 12.4735 681.294 10.7959C682.976 9.11833 685.198 8.27954 687.961 8.27954C690.904 8.27954 693.217 9.11833 694.898 10.7959C696.52 12.4735 697.331 14.5405 697.331 16.997C697.331 19.4534 696.52 21.4905 694.898 23.1082C693.217 24.7258 690.964 25.5347 688.141 25.5347C685.258 25.5347 682.976 24.7258 681.294 23.1082Z" stroke="#D1515A" stroke-width="2"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M719.674 49.5301L712.917 39.1051C720.725 34.1922 729.764 31.7357 740.035 31.7357C747.423 31.7357 753.279 33.7728 757.603 37.8469C761.868 41.981 764 48.1221 764 56.2704V93.1173H746.792V88.2643C741.807 91.4996 737.302 93.1173 733.278 93.1173C725.05 93.1173 718.893 91.3798 714.809 87.9048C710.665 84.4298 708.593 79.6367 708.593 73.5255C708.593 67.7738 710.545 62.6512 714.449 58.1576C718.293 53.6641 724.569 51.4174 733.278 51.4174C737.242 51.4174 741.747 52.6456 746.792 55.1021V53.2148C746.732 48.7212 743.459 46.2648 736.972 45.8454C729.584 45.8454 723.818 47.0736 719.674 49.5301ZM746.792 67.7738V74.6938C745.17 77.9292 741.266 79.5468 735.08 79.5468C727.692 79.1274 723.788 76.4912 723.368 71.6382C723.788 66.7253 727.692 63.8494 735.08 63.0107C741.266 63.0107 745.17 64.5984 746.792 67.7738Z" stroke="#D1515A" stroke-width="2"/>
        </svg>
            

        <!--login form-->
        <form class="bloc" method="POST" @submit.prevent="logIntoAccount">
            <div class="container">
                <!--here are the inputs and submit btn-->
                <!--labels are made invisible via the css, but screenreaders can still read them-->
                <label for="emailLogin">adresse e-mail</label>
                <input type="text" placeholder="Adresse e-mail" name="email" id="emailLogin" v-model="state.user.email" required />
                
                <label for="passwordLogin">mot de passe</label>
                <input type="password" placeholder="Mot de passe" name="mot de passe" id="passwordLogin" v-model="state.user.password" required />
                <button class="formSubmit">Connexion</button>
            </div>

            <div class="container">
                <!--here is the btn to go create an account-->
                <span class="formQuestion">Pas de compte ?</span>
                <router-link to="signup"><button class="formExit" type="button">Inscription</button></router-link>
            </div>
        </form>
    </div>
</body>
</template>

<script>
import { reactive, onMounted} from 'vue';


export default {
    name: "login",
    setup(){
        const state = reactive ({
            user : {
                email:'',
                password:'',
            }
        })

         //Logo animations
        onMounted(() => {
            document.onreadystatechange = () => {
                //animationg the logo with the globe icon
                function animateSgv(id, delay, delayIncrement, delayFill) {
                    const logo = document.getElementById(id);
                    const logoPaths = document.querySelectorAll(`#${id} path`);
                    for (let i = 0; i < logoPaths.length; i++) {
                        logoPaths[i].style.strokeDasharray = logoPaths[i].getTotalLength();
                        logoPaths[i].style.strokeDashoffset = logoPaths[i].getTotalLength();
                        logoPaths[i].style.animation = `line-anim 1s ease-out forwards ${delay}s`;
                        delay += delayIncrement;
                    }
                    logo.style.animation = `fill 1s linear forwards ${delayFill}s`;
                }
                // Set the id of SVG, delay time in seconds to start animation, delay between each stroke animation and delay between stroke and fill animations
                animateSgv("logoIcon", 0, 0.1, 1.1);
            }
        })

        onMounted(() => {
            function animateSgv(id, delay, delayIncrement) {
                const logo = document.getElementById(id);
                const logoPaths = document.querySelectorAll(`#${id} path`);
                for (let i = 0; i < logoPaths.length; i++) {
                    logoPaths[i].style.strokeDasharray = logoPaths[i].getTotalLength();
                    logoPaths[i].style.strokeDashoffset = logoPaths[i].getTotalLength();
                    logoPaths[i].style.animation = `line-anim 2s ease forwards ${delay}s`;
                    delay += delayIncrement;
                }
                logo.style.animation = `fill 0.5s ease-out forwards ${delay}s`;
            }
            // Set the id of SVG, delay time in seconds to start animation and delay between each animation
            animateSgv("logoTypography", 0, 0.1);
        })

        //function to log into account
        function logIntoAccount(){
            //posting data to the api
            fetch("http://localhost:3000/api/user/login", {
                body:JSON.stringify(state.user),
                method: "post",
                headers:  {
                    'Content-Type': 'application/json;charset=UTF-8',
                },
            })
            .then (response => response.json())
            .then((data) => {
                //defining token from the datat that's sent by the backend as token
                let token = data.token;

                //if no backend didn't send token, alert the user that their password or email is wrong
                if(token == null ){
                    alert("E-mail ou mot de passe éronné")
                } else {
                    localStorage.setItem('token', token); //pushing token to localStorage

                    //redirecting to the feed
                    window.location.href = "http://localhost:8080/feed";
                }

            })
            .catch(err => console.log('Fetch Error :-S', err));
        }
        
        return {
            state,
            logIntoAccount,
        }
    }
}
</script>

<style lang="scss"></style>
